### Thinkingï¼š

### Solution:

```cpp
class Solution {
public:
	int numBusesToDestination(vector<vector<int>>& routes, int source, int target) {
		queue<pair<int, int> que;
		que.push({0, source});
		unordered_set<int> visited;

		while (!que.empty()) {
			auto front = que.top(); que.pop();
			int count = front.first;
			int currentPos = front.second;
			if (currentPos == target)
				return count;
			if (visited.count(currentPos))
				continue;
			visited.insert(currentPos);
			for (int i = 0; i < routes.size(); i++) {
				auto it = find(routes[i].begin(), routes[i].end(), source);
				if (it != routes[i].end()) {
					int index = it + 1 == route[i].end() ? 0 : it + 1;
					int next = route[i][index];
					que.push({count + 1, next});
				}
			}
		}
		return -1;
	}
};
```

review: