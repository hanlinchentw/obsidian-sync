### Thinkingï¼š
1. Sliding Window
- find unique number, and loop through 1...maxUnique
- according to currUnique, expand or shrink
- countAtLeastK == currUnique => valid string


### Solution:
1. divide and conquer
```
class Solution {
    func longestSubstring(_ s: String, _ k: Int) -> Int {
		       
    }

	func solve(_ s: String, _ start: Int, _ end: Int, _ k: Int) -> Int {
		if end < k { return 0 }
		var sArr = Array(s)
		var countMap = Array(repeating: 0, count: 26)
		for i in start..<end {
			countMap[sArr[i].asciiValue - "a".asciiValue]
		}
	}
}
```
2. Sliding window
```
int longestSubstring(string s, int k) {
	int maxUnique = getMaxUnique(s);
	int countMap[26] = {0};
	int result = 0;
	for (int currUnique = 1; currUnique <= maxUnique; currUnique++) {
		int start = 0, end = 0, countAtLeastK = 0, unique = 0, idx = 0;
		memset(countMap, 0, sizeof(countMap));
		while (end < s.size()) {
			if (unique <= currUnique) {
				// expand
				idx = s[end] - 'a';
				if (countMap[idx] == 0) unique++;
				countMap[idx]++;
				if (countMap[idx] == k) countAtLeastK++;
				end++;
			} else {
				// shrink
				idx = s[start] - 'a';
				if (countMap[idx] == k) countAtLeastK--;
				countMap[idx]--;
				if (countMap[idx] == 0) unique--;
				start++;
			}
			if (unique == currUnique && unique == countAtLeastK)
				result = max(result, end-start);
		}
	}
	return result;
}

int getMaxUnique(const string& s) {
	unordered_set<int> set(s.begin(), s.end());
	return set.size();
}
```

review: