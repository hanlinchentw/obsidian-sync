### Thinkingï¼š

dp -----
|
|
|
horizontal: words can be concatenated by
### Solution:

```cpp
class Solution {
public:
    vector<string> findAllConcatenatedWordsInADict(vector<string>& words) {
	    unordered_set<string> wordSet(words.begin(), words.end());
	    vector<string> ans;
	    for (auto word : words) {
		    wordSet.erase(word);
		    if canForm(wordSet, word, 0, {}, ans); {
			    ans.push_back(word);
		    }
	    }
	    return ans;
    }

	bool canForm(const unordered_set<string>& wordSet, 
		     string s, 
		     int start,
		     int end, 
		     vector<string> path,
		     vector<string>& ans) {
		if (start == s.length()) {
			unordered_set<string> set(path.begin(), path.end());
			return set.size() >= 2;
		}
		for (int i = start; i < s.length(); i++) {
			string sub = s.substr(start, i-start+1);
			if (wordSet.count(sub)) {
				path.push_back(sub);
				dfs(wordSet, s, start+1, {}, ans);
				path.pop_back();
			}
		}
	}
};
```

review: