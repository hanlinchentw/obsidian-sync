### Thinkingï¼š

### Solution:

```
class Solution {
public:
	int longestSubstring(string s, int k) {
		int countMap[26] = {0};
		int result = 0;
		for (int i = 0; i < s.length(); i++) {
			memset(countMap, 0, sizeof(countMap));
			for (int j = 0; j < s.length; j++) {
				countMap[s[j]- 'a']++;
				if (isValid(k, countMap)) {
					result = max(result, j - i + 1);
				}
			}
		}
		return result;
	}

private:
	bool isValid(int k, int countMap[26]) {
		int countLetters = 0, countAtLeastK = 0;
		for (int i = 0; i < 26; i++) {
			if (countMap[i] > 0) countLetters++;
			if (countMap[i] >= k) countAtLeastK++;
		}
		return countLetters == countAtLeastK;
	}
};
```

review: